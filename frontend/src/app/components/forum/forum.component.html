<mat-card style="margin: 15px;">
  <h1 style="margin-bottom: 0;">Forum</h1>
</mat-card>
<div style="margin: 0 0 15px 15px; width: calc(50% - 565px); float: left; height: calc(100% - 210px);">
  <mat-card style="height: 100%;">
    <h2 style="margin-bottom: 10px;">Chats</h2>
    <mat-icon style="cursor: pointer; position: absolute; right: 15px; top: 17px;" (click)="openCreateChatDialog()"
              title="Create a new Chat">add
    </mat-icon>
    <mat-divider></mat-divider>
    <mat-list>
      <ng-container *ngFor="let chat of apiService.chatArray; let i = index;">
        <mat-divider style="margin: 0 15px 0 15px; width: calc(100% - 30px);" *ngIf="i !== 0"></mat-divider>
        <mat-list-item style="width: 100%; margin-bottom: 5px;">
          <strong>{{chat.chatName}}</strong>
          <mat-icon style="margin-left: 15px; cursor: pointer; position: absolute; right: 0;" (click)="joinChat(chat)">exit_to_app</mat-icon>
          <mat-icon style="margin-left: 15px; cursor: pointer; position: absolute; right: 30px;" (click)="seeChat(chat)">remove_red_eye</mat-icon>
        </mat-list-item>
      </ng-container>
    </mat-list>
  </mat-card>
</div>
<ng-container>
  <div style="margin: 0 46px 15px 0; float: right; width: calc(50% + 492px); height: calc(100% - 210px);">
    <mat-card style="width: 100%; height: 100%;">
      <ng-container *ngIf="currentChat.id != -1">
        <h2>{{currentChat.chatName}}</h2>
        <mat-divider style="width: calc(100% - 30px); margin: 0 15px 0 15px;"></mat-divider>
        <div style="max-height: calc(100% - 110px); overflow-y: scroll;">
          <ng-container *ngFor="let message of chatMessages">
            <div class="chatMessage" *ngIf="message.username === authService.loggedInUser.username"
                 style="text-align: right; background-color: cornflowerblue; color: black; padding: 5px; border: 1px solid black; border-radius: 10px 10px 0 10px;">
              {{message.message}}
            </div>
            <div *ngIf="message.username !== authService.loggedInUser.username"
                 style="text-align: left; background-color: darkseagreen; color: black; padding: 5px; border: 1px solid black; border-radius: 10px 10px 10px 0;">
              {{message.message}}
            </div>
          </ng-container>
        </div>
        <div>
          <label>
            <textarea #chatInput rows="4" cols="50"
                      style="margin: 0px; height: 44px; width: calc(100% - 180px); border-radius: 10px; position: absolute; bottom: 15px; resize: none;"></textarea>
          </label>
          <mat-button-toggle style="position: absolute; right: 15px; bottom: 15px;"
                             (click)="createChatMessage(currentChat)">Send Message
          </mat-button-toggle>
        </div>
      </ng-container>
    </mat-card>
  </div>
</ng-container>
