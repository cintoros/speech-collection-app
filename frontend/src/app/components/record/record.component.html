<div *ngIf="excerpt">
  <mat-card class="margin">
    <h1>Record</h1>
    <div style="color: grey;font-size: 0.8em">
      Record Swiss German speech for a Standard German sentence. Please think about the Swiss German translation of the
      sentence first before starting to record.
      <ul>
        <li>Start: Start recording speech</li>
        <li>Skip: I don't want to read this sentence aloud, give me another one.</li>
        <li>Not a sentence: Transcript is not Standard German or is not a single sentence or phrase. In a pre-processing
          step, longer texts are automatically split to sentences, so use this button also if you suspect that the
          sentence
          splitting went wrong.
        </li>
        <li>Sensitive data: Transcript and / or recording contains sensitive data and should not be published.</li>
      </ul>
    </div>
    <mat-icon *ngIf="excerpt.isPrivate">lock</mat-icon>
    <mat-icon *ngIf="!excerpt.isPrivate">lock_open</mat-icon>
    <b>Excerpt: </b><span>{{excerpt?.excerpt}}</span>
  </mat-card>
  <div class="margin">
    <mat-form-field class="max-width">
      <mat-label>Noise level</mat-label>
      <mat-select [(ngModel)]="selectedNoiseLevel">
        <mat-option [value]="recordingNoiseLevel.NO_NOISE">No noise</mat-option>
        <mat-option [value]="recordingNoiseLevel.MODERATE_NOISE">Moderate noise</mat-option>
        <mat-option [value]="recordingNoiseLevel.VERY_NOISY">Very Noisy</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field class="max-width">
      <mat-label>Mic quality</mat-label>
      <mat-select [(ngModel)]="selectedQuality">
        <mat-option [value]="recordingQuality.INTEGRATED">Integrated</mat-option>
        <mat-option [value]="recordingQuality.DEDICATED">Dedicated</mat-option>
      </mat-select>
    </mat-form-field>
    <br>
    <audio [src]="blobUrl" controls></audio>
    <br>
    <br>
    <button (click)="startRecord()" *ngIf="!this.isRecording" mat-raised-button title="Start recording">
      <mat-icon>fiber_manual_record</mat-icon>
      <span>&nbsp;Start</span>
    </button>
    <button (click)="stopRecord()" *ngIf="this.isRecording" mat-raised-button title="Stop recording">
      <mat-icon>stop</mat-icon>
      <span>&nbsp;Stop</span>
    </button>
    <button (click)="skip()" mat-raised-button title="Skip">
      <mat-icon>skip_next</mat-icon>
      <span>&nbsp;Skip</span>
    </button>
    <button (click)="sentenceError()" mat-raised-button title="Mark as not a sentence">
      <mat-icon>delete</mat-icon>
      <span>&nbsp;Not a sentence</span>
    </button>
    <button (click)="private()" [disabled]="excerpt.isPrivate" mat-raised-button title="Mark as private">
      <mat-icon>lock</mat-icon>
      <span>&nbsp;Sensitive data</span>
    </button>
    <button (click)="submit()" *ngIf="isReady()" color="primary" mat-raised-button
            title="Submit your recording">Submit
    </button>
    <span *ngIf="isRecording"> &ensp; Recorded {{elapsedTime}} Seconds</span>
  </div>
</div>
<div *ngIf="!excerpt" style="height: calc(100% - 100px);">
  <div style="height: calc(100% - 90px);">
    <mat-card style="margin: 15px; height: 100%; display: flex; align-items: center; justify-content: center;">
      <div style="font-weight: bold; font-size: 36px;">No more Data available</div>
    </mat-card>
  </div>
</div>
