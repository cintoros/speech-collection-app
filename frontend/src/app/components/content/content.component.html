<div>
  <mat-card id="header-card">
    <h1>Label</h1>
    <mat-button-toggle (click)="loading = false">TODO, fix endless spinner, works if click on page</mat-button-toggle>
  </mat-card>
</div>
<div [hidden]="!loading" style="height: calc(100% - 100px)">
  <mat-spinner style="margin-left: auto; margin-right: auto; top: calc(50% - 150px);"></mat-spinner>
</div>
<div [hidden]="loading" id="label-container">
  <mat-card class="top-card">
    <app-audio-player (loading)="getLoading($event)" [textAudioIndexWithText]="dummyTextAudioIndex" (regionPosition)="getRegionSnippet($event)" [audioPosition]="snip"></app-audio-player>
  </mat-card>
  <mat-card *ngIf="!edit" class="card text-container">
    <h2>Text</h2>
    <mat-icon title="Edit this text" (click)="edit = true" style="cursor: pointer; position: absolute; right: 15px; top: 15px;">edit</mat-icon>
    <div>
      <span>{{highlightedText}}</span>
    </div>
  </mat-card>
  <mat-card *ngIf="edit" class="card text-container">
    <h2>Edit Text</h2>
    <mat-icon title="Close text edit" (click)="reset(); edit = false;" style="cursor: pointer; position: absolute; right: 15px; top: 15px;">close</mat-icon>
    <div (mouseup)="displayHighlightedText()">
      <span *ngIf="!yeet">{{textBegin}}</span>
      <span style="background-color: steelblue;">{{selectedText}}</span>
      <span *ngIf="!yeet">{{textEnd}}</span>
    </div>
    <mat-button-toggle (click)="submitChangeText()" style="margin-top: 15px; float: right;">Submit</mat-button-toggle>
    <mat-button-toggle (click)="reset()" style="margin-top: 15px; float: left;">Reset</mat-button-toggle>
  </mat-card>
  <mat-card id="select-container" class="card">
    <mat-button-toggle-group>
      <mat-button-toggle (click)="submitText()">Submit</mat-button-toggle>
      <mat-button-toggle (click)="submitText()">Skip</mat-button-toggle>
    </mat-button-toggle-group>
  </mat-card>
  <div id="shortcut-button">
    <mat-button-toggle (click)="openShortcutDialog()">
      <mat-icon>keyboard</mat-icon>
    </mat-button-toggle>
  </div>
</div>
